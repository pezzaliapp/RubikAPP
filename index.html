<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RubikApp 3D — Smoke Test</title>
  <meta name="theme-color" content="#0b5fff">
  <link rel="icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="topbar">
  <h1>RubikApp 3D — Smoke</h1>
</header>
<main>
  <div id="stage"></div>
  <pre id="diag" class="diag"></pre>
</main>
<footer><small>Test minimo</small></footer>

<script>
const diag=document.getElementById('diag');
window.addEventListener('error', e=>{diag.textContent += "ERROR: "+e.message+" ("+e.filename+":"+e.lineno+")\n";});
function log(s){diag.textContent += s+"\n"; console.log(s);}
</script>
<script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
<script>
(function(){
  log("THREE loaded? "+(!!window.THREE));
  const stage=document.getElementById('stage');
  const renderer=new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(stage.clientWidth, stage.clientHeight);
  stage.appendChild(renderer.domElement);
  const scene=new THREE.Scene();
  scene.background=new THREE.Color(0x2a3142);
  const camera=new THREE.PerspectiveCamera(45, stage.clientWidth/stage.clientHeight, 0.1, 100);
  camera.position.set(4,4,6); camera.lookAt(0,0,0);
  const light=new THREE.DirectionalLight(0xffffff,1); light.position.set(5,5,5); scene.add(light);
  const geom=new THREE.BoxGeometry(1,1,1);
  const mats=[0xff0000,0x00ff00,0x0000ff,0xffff00,0xff6c00,0xffffff].map(c=>new THREE.MeshStandardMaterial({color:c}));
  const cube=new THREE.Mesh(geom, mats); scene.add(cube);
  function loop(){ cube.rotation.x+=0.01; cube.rotation.y+=0.02; renderer.render(scene,camera); requestAnimationFrame(loop); }
  loop();
  log("Render loop started");
})();
</script>
</body>
</html>
